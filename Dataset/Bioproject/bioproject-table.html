<!DOCTYPE html>
<html lang="it">

<head>
    <div id="headContainer"></div>

    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.2.0/papaparse.min.js"></script>
    <link rel="stylesheet" href="/Dataset/Bioproject/bioproject-table.css" />
    <script type="module" src="./bioproject-table.js"></script>


    <title>Bioproject Datail</title>
</head>

<body>
    <nav>
        <ul class="menu">
            <li class="logo"><a href="./../../Home/home.html">Home</a></li>
            <li class="item has-submenu">
                <a tabindex="0">Search</a>
                <ul class="submenu">
                    <li class="subitem"><a href="#">Search by Bioproject</a></li>
                    <li class="subitem"><a href="#">Search for DEGs</a></li>
                    <li class="subitem"><a href="#">Search by gene</a></li>
                    <li class="subitem"><a href="#">Search by brain region</a></li>
                </ul>
            </li>
            <li class="item has-submenu">
                <a tabindex="0">Dataset</a>
                <ul class="submenu">
                    <li class="subitem">
                        <a href="">Dataset overview</a>
                    </li>
                    <li class="subitem"><a href="bioproject-table.html">Bioproject Detail</a></li>
                    <li class="subitem"><a href="#">Dataset phenotypic data</a></li>
                </ul>
            </li>
            <li class="item"><a href="./../../Statistics/statistics.html">Statistics</a></li>
            <li class="item"><a href="#">Downloads</a></li>
            <li class="item"><a href="./../../Contact  Us/contact-us.html">Contact Us</a></li>
            <li class="item"><a href="./../../Help/help.html">Help</a></li>
            <li class="toggle">
                <a href="#"><i class="fas fa-bars"></i></a>
            </li>
        </ul>
    </nav>

    <div class="container-fluid" id="sfondo">
        <div class="container pb-5" id="riquadro1">
            <div class="column column-a">
                <img src="/img/homo_mouse.png" id="mouse_homo_img" />
            </div>
            <div class="column column-b">
                <!--titolo-->
                <div class="container-fluid" id="barra_titolo1">
                    <div class="row">
                        <div class="block">
                            <h4 id="titolo_grande" style="
                    color: rgb(29, 27, 27);
                    font-size: 30px;
                    font-family: 'Roboto', sans-serif;
                  ">
                                <strong>Rett&nbsp;&nbsp;Syndrome&nbsp;&nbsp;Portal</strong>
                            </h4>
                        </div>
                    </div>
                </div>

                <!--sottotitolo-->
                <div class="container-fluid" id="barra_titolo2">
                    <div class="row">
                        <div class="block">
                            <h1 id="sottotitolo" style="
                    color: rgb(29, 27, 27);
                    font-size: 20px;
                    font-family: 'Roboto', sans-serif;
                  ">
                                Analysis of human and mice subjects with Rett syndrome
                            </h1>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column column-c">
                <img src="../../img/logo.png" id="logo" />
            </div>
        </div>
    </div>

    <!--spazio vuoto-->
    <div id="spazio_vuoto"></div>

    <div class="container" id="sfondo3">
        <div class="row">
            <h1><strong>Bioproject Detail</strong></h1>
        </div>
    </div>

    <div class="container" id="sfondo2">
        <div class="row" id="riquadro2">
            <input type="file" onchange="showDiv()" id="csvFileInput" multiple required />
            <label for="csvFileInput" id="labelsuinput">UPLOAD&nbsp;&nbsp;YOUR&nbsp;&nbsp;BIOPROJECT
                <img src="/img/csv_icona.png" />
            </label>
            <div id="csvFileInput-filename"></div>
            <div id="scroll_div" class="scroll" style="display: none">
                <table id="csvRoot"></table>
            </div>
        </div>
    </div>

    <!--spazio vuoto-->
    <div id="spazio_vuoto"></div>
    <!--spazio vuoto-->
    <div id="spazio_vuoto"></div>
    <!--spazio vuoto-->
    <div id="spazio_vuoto"></div>

    <!--barra in basso conclusiva= footer-->
    <div id="footerContainer"></div>

    <!-- In home.html -->
    <div id="headerContainer"></div>
    <div id="footerContainer"></div>

    <script>
        // Funzione per caricare e inserire il contenuto di un file
        function loadAndInsertContent(url, containerId) {
            return fetch(url)
                .then(response => response.text())
                .then(data => {
                    // Inserisci il contenuto nel tuo elemento HTML
                    document.getElementById(containerId).innerHTML = data;
                })
                .catch(error => {
                    // Gestisci gli errori qui se necessario
                    console.error(`Errore nel caricamento di ${url}:`, error);
                });
        }

        // Carica e inserisci il contenuto di footer.html e head-content.html
        Promise.all([
            loadAndInsertContent("./../../footer.html", "footerContainer"),
            loadAndInsertContent("./../../head-content.html", "headContainer")
        ])
            .catch(error => {
                // Gestisci gli errori qui se necessario
                console.error("Errore nel caricamento dei file:", error);
            });
    </script>


    <script>
        var input = document.getElementById("csvFileInput");
        var infoArea = document.getElementById("csvFileInput-filename");

        input.addEventListener("change", showFileName);

        function showFileName(event) {
            var input = event.srcElement;
            var fileName = input.files[0].name;
            const endIndex = fileName.length - 4;
            const noTotalFilename = fileName.substring(0, endIndex);
            const link = "https://www.ncbi.nlm.nih.gov/bioproject/" + noTotalFilename;

            const linkElement = document.createElement("a");
            linkElement.href = link;
            linkElement.target = "_blank";
            linkElement.style.textDecoration = "underline";
            linkElement.style.color = "-webkit-link";
            linkElement.style.cursor = "pointer";
            linkElement.textContent = fileName;

            // Aggiungi un attributo "data-bs-toggle" per attivare il tooltip di Bootstrap
            linkElement.setAttribute("data-bs-toggle", "tooltip");
            // Imposta il contenuto del tooltip di Bootstrap
            linkElement.setAttribute("data-bs-original-title", "See this Bioproject on NCBI");

            infoArea.innerHTML = "BIOPROJECT ID: ";
            infoArea.appendChild(linkElement);

            // Inizializza il tooltip di Bootstrap
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
        }


        function showDiv() {
            document.getElementById("scroll_div").style.display = "block";
        }
    </script>

</body>

</html>